\hypertarget{_c_t_b_l_e_8h_source}{}\doxysection{CTBLE.\+h}
\mbox{\hyperlink{_c_t_b_l_e_8h}{Aller à la documentation de ce fichier.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00011}00011\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00012}00012\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00014}00014\ \textcolor{preprocessor}{\#include\ <BLEDevice.h>}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00015}00015\ \textcolor{preprocessor}{\#include\ <BLEUtils.h>}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00016}00016\ \textcolor{preprocessor}{\#include\ <BLEServer.h>}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00017}00017\ \textcolor{comment}{//\ \#include\ <Ticker.h>}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00018}00018\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{_c_t_monitoring_8h}{CTMonitoring.h}}"{}}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00019}00019\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00021}00021\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00022}00022\ \textcolor{comment}{/*************************\ Configuration\ *************************************/}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00023}\mbox{\hyperlink{_c_t_b_l_e_8h_a445125ee8c34695376c85f10b38844d6}{00023}}\ \textcolor{preprocessor}{\#define\ SERVICE\_UUID\ \ \ \ \ "{}774320e9-\/e25a-\/455c-\/9230-\/b1758c4cfa12"{}}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00025}\mbox{\hyperlink{_c_t_b_l_e_8h_a936965fe84a8b0072cdcde6f52afe26d}{00025}}\ \textcolor{preprocessor}{\#define\ BLE\_FREQ\ \ \ \ \ \ \ \ \ 10}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00026}\mbox{\hyperlink{_c_t_b_l_e_8h_a7d0fce2820b99d4d2818bf0c58f65fcb}{00026}}\ \textcolor{preprocessor}{\#define\ BLE\_SCAN\_TIME\ \ \ \ 5}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00028}00028\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00029}00029\ \textcolor{comment}{/**************************\ Variables\ ****************************************/}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00030}\mbox{\hyperlink{_c_t_b_l_e_8h_a1ce77ae701158c43388018dce073e344}{00030}}\ \mbox{\hyperlink{_c_t_b_l_e_8h_a52464e8a494355347a08207aca8fe5f0}{BLEScan}}*\ \mbox{\hyperlink{_c_t_b_l_e_8h_a1ce77ae701158c43388018dce073e344}{pBLEScan}};}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00031}\mbox{\hyperlink{_c_t_b_l_e_8h_ac871c365764e0411a3c3806439b2b19d}{00031}}\ BLEServer*\ \mbox{\hyperlink{_c_t_b_l_e_8h_ac871c365764e0411a3c3806439b2b19d}{pServer}};}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00032}\mbox{\hyperlink{_c_t_b_l_e_8h_a338cd275ef7429f95be973866946853e}{00032}}\ BLEService*\ \mbox{\hyperlink{_c_t_b_l_e_8h_a338cd275ef7429f95be973866946853e}{pService}};}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00033}\mbox{\hyperlink{_c_t_b_l_e_8h_aef19c878eb0d5b04266f9d8547e9826d}{00033}}\ BLEAdvertising*\ \mbox{\hyperlink{_c_t_b_l_e_8h_aef19c878eb0d5b04266f9d8547e9826d}{pAdvertising}};}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00041}\mbox{\hyperlink{_c_t_b_l_e_8h_a8d527d58c820a6cbaf6c70164779e278}{00041}}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{_c_t_b_l_e_8h_a8d527d58c820a6cbaf6c70164779e278}{BLE\_last\_scan}};}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00042}00042\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00049}\mbox{\hyperlink{_c_t_b_l_e_8h_a01870b8bac3f7b72d625afa7bae99eb8}{00049}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_c_t_b_l_e_8h_a01870b8bac3f7b72d625afa7bae99eb8}{start\_BLE\_server}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{_c_t_s_p_i_f_f_s_8h_a8dfd96f6f709ce443636ca56e0cfadcf}{device\_name}})\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00050}00050\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00051}00051\ \ \ \mbox{\hyperlink{_c_t_debug_8h_a6551348c963ff72de879c179ce1f1a86}{MYDEBUG\_PRINT}}(\textcolor{stringliteral}{"{}-\/BLE\ :\ Démarrage\ du\ serveur\ sous\ le\ nom\ :\ "{}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00052}00052\ \ \ \mbox{\hyperlink{_c_t_debug_8h_ad1163597277388424d1b42c909a1be64}{MYDEBUG\_PRINTLN}}(\mbox{\hyperlink{_c_t_s_p_i_f_f_s_8h_a8dfd96f6f709ce443636ca56e0cfadcf}{device\_name}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00053}00053\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00054}00054\ \ \ BLEDevice::init(\mbox{\hyperlink{_c_t_s_p_i_f_f_s_8h_a8dfd96f6f709ce443636ca56e0cfadcf}{device\_name}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00055}00055\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00056}00056\ \ \ \textcolor{comment}{//\ On\ remet\ à\ zéro\ le\ serveur,\ le\ service\ et\ l'advertising}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00057}00057\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_c_t_b_l_e_8h_ac871c365764e0411a3c3806439b2b19d}{pServer}})\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00058}00058\ \ \ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_ac871c365764e0411a3c3806439b2b19d}{pServer}}-\/>removeService(\mbox{\hyperlink{_c_t_b_l_e_8h_a338cd275ef7429f95be973866946853e}{pService}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00059}00059\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00060}00060\ \ \ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_ac871c365764e0411a3c3806439b2b19d}{pServer}}\ =\ BLEDevice::createServer();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00061}00061\ \ \ \}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00062}00062\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00063}00063\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_c_t_b_l_e_8h_a338cd275ef7429f95be973866946853e}{pService}})\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00064}00064\ \ \ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a338cd275ef7429f95be973866946853e}{pService}}-\/>stop();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00065}00065\ \ \ \}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00066}00066\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a338cd275ef7429f95be973866946853e}{pService}}\ =\ \mbox{\hyperlink{_c_t_b_l_e_8h_ac871c365764e0411a3c3806439b2b19d}{pServer}}-\/>createService(\mbox{\hyperlink{_c_t_b_l_e_8h_a445125ee8c34695376c85f10b38844d6}{SERVICE\_UUID}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00067}00067\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a338cd275ef7429f95be973866946853e}{pService}}-\/>start();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00068}00068\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00069}00069\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_c_t_b_l_e_8h_aef19c878eb0d5b04266f9d8547e9826d}{pAdvertising}})\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00070}00070\ \ \ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_aef19c878eb0d5b04266f9d8547e9826d}{pAdvertising}}-\/>stop();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00071}00071\ \ \ \}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00072}00072\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_aef19c878eb0d5b04266f9d8547e9826d}{pAdvertising}}\ =\ BLEDevice::getAdvertising();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00073}00073\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_aef19c878eb0d5b04266f9d8547e9826d}{pAdvertising}}-\/>addServiceUUID(\mbox{\hyperlink{_c_t_b_l_e_8h_a445125ee8c34695376c85f10b38844d6}{SERVICE\_UUID}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00074}00074\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_aef19c878eb0d5b04266f9d8547e9826d}{pAdvertising}}-\/>setScanResponse(\textcolor{keyword}{true});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00076}00076\ \ \ BLEDevice::startAdvertising();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00077}00077\ \}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00078}00078\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00086}\mbox{\hyperlink{class_my_advertised_device_callbacks}{00086}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_my_advertised_device_callbacks}{MyAdvertisedDeviceCallbacks}}:\ \textcolor{keyword}{public}\ BLEAdvertisedDeviceCallbacks\ \{\ \ \ \ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00087}00087\ \ \ \ \ \textcolor{keywordtype}{void}\ onResult(BLEAdvertisedDevice\ advertisedDevice)\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00088}00088\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (WiFi.status()\ !=\ WL\_CONNECTED)\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00089}00089\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00090}00090\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00092}00092\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{_c_t_b_l_e_8h_a445125ee8c34695376c85f10b38844d6}{SERVICE\_UUID}}\ !=\ advertisedDevice.getServiceUUID().toString())\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00093}00093\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00094}00094\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00096}00096\ \ \ \ \ \ \ std::string\ address\ =\ advertisedDevice.getAddress().toString();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00097}00097\ \ \ \ \ \ \ std::string\ name\ =\ advertisedDevice.getName();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00098}00098\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00099}00099\ \ \ \ \ \ \ \mbox{\hyperlink{_c_t_debug_8h_a6551348c963ff72de879c179ce1f1a86}{MYDEBUG\_PRINT}}(\textcolor{stringliteral}{"{}-\/BLE\ client\ :\ CONTACT\ Tracer\ trouvé\ :\ "{}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00100}00100\ \ \ \ \ \ \ \mbox{\hyperlink{_c_t_debug_8h_a6551348c963ff72de879c179ce1f1a86}{MYDEBUG\_PRINT}}(address.c\_str());}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00101}00101\ \ \ \ \ \ \ \mbox{\hyperlink{_c_t_debug_8h_a6551348c963ff72de879c179ce1f1a86}{MYDEBUG\_PRINT}}(\textcolor{stringliteral}{"{}\ |\ Nom\ :\ "{}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00102}00102\ \ \ \ \ \ \ \mbox{\hyperlink{_c_t_debug_8h_ad1163597277388424d1b42c909a1be64}{MYDEBUG\_PRINTLN}}(name.c\_str());}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00104}00104\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00105}00105\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ ratio\ =\ (float)(-\/69\ -\/advertisedDevice.getRSSI())/(10\ *\ 2);}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00106}00106\ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ distance\ =\ pow(10,ratio);}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00108}00108\ \ \ \ \ \ \ \textcolor{comment}{//\ If\ the\ Contact\ Tracer\ is\ close\ enough,\ advance\ the\ "{}contact"{}\ timer.}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00109}00109\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (distance\ <\ \mbox{\hyperlink{_c_t_s_p_i_f_f_s_8h_ac7331f24861797ee5765f93fc9fa0a5b}{monitoring\_distance}})\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00110}00110\ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00111}00111\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_c_t_monitoring_8h_a9c0620d07f42f8309e4fd488ec9b5349}{device\_interact}}(address.c\_str(),\ name.c\_str(),\ \mbox{\hyperlink{_c_t_b_l_e_8h_a8d527d58c820a6cbaf6c70164779e278}{BLE\_last\_scan}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00112}00112\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a8d527d58c820a6cbaf6c70164779e278}{BLE\_last\_scan}}\ =\ millis();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00113}00113\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00114}00114\ \ \ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00115}00115\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00116}00116\ \};}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00117}00117\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00124}\mbox{\hyperlink{_c_t_b_l_e_8h_a52464e8a494355347a08207aca8fe5f0}{00124}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_c_t_b_l_e_8h_a52464e8a494355347a08207aca8fe5f0}{BLEScan}}()\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00125}00125\ \ \ BLEScanResults\ foundDevices\ =\ \mbox{\hyperlink{_c_t_b_l_e_8h_a1ce77ae701158c43388018dce073e344}{pBLEScan}}-\/>start(\mbox{\hyperlink{_c_t_b_l_e_8h_a7d0fce2820b99d4d2818bf0c58f65fcb}{BLE\_SCAN\_TIME}},\ \textcolor{keyword}{false});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00126}00126\ \ \ \textcolor{comment}{//\ MYDEBUG\_PRINTLN(foundDevices.getCount());}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00127}00127\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00128}00128\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a1ce77ae701158c43388018dce073e344}{pBLEScan}}-\/>clearResults();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00129}00129\ \}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00130}00130\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00138}\mbox{\hyperlink{_c_t_b_l_e_8h_a9f20df24b485bb3f7d2ae06c5de40e7b}{00138}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_c_t_b_l_e_8h_a9f20df24b485bb3f7d2ae06c5de40e7b}{setupBLEServer}}()\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00139}00139\ \ \ \mbox{\hyperlink{_c_t_debug_8h_ad1163597277388424d1b42c909a1be64}{MYDEBUG\_PRINTLN}}(\textcolor{stringliteral}{"{}-\/BLE\ Server\ :\ Démarrage"{}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00140}00140\ \ \ \textcolor{comment}{//\ get\_config();}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00142}00142\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a01870b8bac3f7b72d625afa7bae99eb8}{start\_BLE\_server}}(\mbox{\hyperlink{_c_t_s_p_i_f_f_s_8h_a8dfd96f6f709ce443636ca56e0cfadcf}{device\_name}}.c\_str());}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00143}00143\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00144}00144\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00145}00145\ \ \ \textcolor{comment}{//\ AddDeviceCredentialsChangedCallback([](const\ char*\ ssid,\ const\ char*\ password)\ \{}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00146}00146\ \ \ \textcolor{comment}{//\ \ \ MYDEBUG\_PRINTLN("{}-\/BLE\ Client\ :\ Nouveau\ SSID\ reçu"{});}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00147}00147\ \ \ \textcolor{comment}{//\ \ \ start\_BLE\_server(ssid);}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00148}00148\ \ \ \textcolor{comment}{//\ \});}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00149}00149\ \ \ \mbox{\hyperlink{_c_t_debug_8h_ad1163597277388424d1b42c909a1be64}{MYDEBUG\_PRINTLN}}(\textcolor{stringliteral}{"{}-\/BLE\ Server\ :\ Démarré"{}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00150}00150\ \}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00151}00151\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00158}\mbox{\hyperlink{_c_t_b_l_e_8h_a6893deddb9ac5085c42040e53d9f8095}{00158}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_c_t_b_l_e_8h_a6893deddb9ac5085c42040e53d9f8095}{setupBLEClient}}()\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00159}00159\ \ \ \mbox{\hyperlink{_c_t_debug_8h_ad1163597277388424d1b42c909a1be64}{MYDEBUG\_PRINTLN}}(\textcolor{stringliteral}{"{}-\/BLE\ Client\ :\ Démarrage"{}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00161}00161\ \ \ BLEDevice::init(\mbox{\hyperlink{_c_t_s_p_i_f_f_s_8h_a8dfd96f6f709ce443636ca56e0cfadcf}{device\_name}}.c\_str());}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00162}00162\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a1ce77ae701158c43388018dce073e344}{pBLEScan}}\ =\ BLEDevice::getScan();\ \textcolor{comment}{//create\ new\ scan}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00163}00163\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a1ce77ae701158c43388018dce073e344}{pBLEScan}}-\/>setAdvertisedDeviceCallbacks(\textcolor{keyword}{new}\ \mbox{\hyperlink{class_my_advertised_device_callbacks}{MyAdvertisedDeviceCallbacks}}());}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00164}00164\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a1ce77ae701158c43388018dce073e344}{pBLEScan}}-\/>setActiveScan(\textcolor{keyword}{true});\ \textcolor{comment}{//active\ scan\ uses\ more\ power,\ but\ get\ results\ faster}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00165}00165\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a1ce77ae701158c43388018dce073e344}{pBLEScan}}-\/>setInterval(100);}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00166}00166\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a1ce77ae701158c43388018dce073e344}{pBLEScan}}-\/>setWindow(99);\ \ \textcolor{comment}{//\ less\ or\ equal\ setInterval\ value}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00167}00167\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00168}00168\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a8d527d58c820a6cbaf6c70164779e278}{BLE\_last\_scan}}\ =\ millis();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00169}00169\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00170}00170\ \ \ \mbox{\hyperlink{_c_t_debug_8h_ad1163597277388424d1b42c909a1be64}{MYDEBUG\_PRINTLN}}(\textcolor{stringliteral}{"{}-\/BLE\ Client\ :\ Démarré"{}});}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00171}00171\ \}}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00172}00172\ }
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00177}\mbox{\hyperlink{_c_t_b_l_e_8h_ab639259f1b5cebfe4d21689af80aabe8}{00177}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_c_t_b_l_e_8h_ab639259f1b5cebfe4d21689af80aabe8}{loopBLEClient}}()\ \{}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00178}00178\ \ \ \mbox{\hyperlink{_c_t_b_l_e_8h_a52464e8a494355347a08207aca8fe5f0}{BLEScan}}();}
\DoxyCodeLine{\Hypertarget{_c_t_b_l_e_8h_source_l00179}00179\ \}}

\end{DoxyCode}
