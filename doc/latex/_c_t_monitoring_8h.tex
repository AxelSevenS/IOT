\hypertarget{_c_t_monitoring_8h}{}\doxysection{CTMonitoring.\+h File Reference}
\label{_c_t_monitoring_8h}\index{CTMonitoring.h@{CTMonitoring.h}}


Surveillance des Utilisateurs Contact Tracer (CT) à proximité. Lorsque deux utilisateurs CT sont à proximité, ils échangent leurs adresses BT et se surveillent mutuellement. Si l\textquotesingle{}un des deux utilisateurs est malade (\mbox{\hyperlink{_c_t_s_p_i_f_f_s_8h_af62606a4cab2472ff56d785a56edbac6}{user\+\_\+status}}), et que le temps d\textquotesingle{}intéraction dépasse le seuil de contact (\mbox{\hyperlink{_c_t_s_p_i_f_f_s_8h_a2e5f1885229558ed3301244352309fb7}{monitoring\+\_\+time}}) l\textquotesingle{}autre est notifié et devient un cas contact.  


{\ttfamily \#include \char`\"{}CTSPIFFS.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}CTNTP.\+h\char`\"{}}\newline
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{_c_t_monitoring_8h_afdd6d4678381b4e916a79d45e9a6703e}{become\+\_\+contact\+\_\+if\+\_\+device\+\_\+is\+\_\+sick}} (Json\+Document \&monitoring\+Document, File \&monitoring\+File, const char $\ast$other\+Device\+Address)
\begin{DoxyCompactList}\small\item\em Vérifie si l\textquotesingle{}appareil est marqué comme malade dans le fichier de monitoring et met à jour le status de l\textquotesingle{}utilisateur si c\textquotesingle{}est le cas. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_c_t_monitoring_8h_a8f573b385e7f440e6119242b60955024}{update\+\_\+device\+\_\+status}} (const char $\ast$address, const char $\ast$status)
\begin{DoxyCompactList}\small\item\em Met à jour le status d\textquotesingle{}un appareil dans le fichier de monitoring. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{_c_t_monitoring_8h_a9c0620d07f42f8309e4fd488ec9b5349}{device\+\_\+interact}} (const char $\ast$address, const char $\ast$name, long last\+\_\+contact)
\begin{DoxyCompactList}\small\item\em Effectue une \char`\"{}interaction\char`\"{} avec un appareil, c\textquotesingle{}est à dire met à jour son nom, son temps d\textquotesingle{}exposition et son statut dans le fichier de surveillance~\newline
Si le temps d\textquotesingle{}exposition est supérieur au seuil de surveillance, l\textquotesingle{}appareil est marqué pour surveillance rapprochée. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Surveillance des Utilisateurs Contact Tracer (CT) à proximité. Lorsque deux utilisateurs CT sont à proximité, ils échangent leurs adresses BT et se surveillent mutuellement. Si l\textquotesingle{}un des deux utilisateurs est malade (\mbox{\hyperlink{_c_t_s_p_i_f_f_s_8h_af62606a4cab2472ff56d785a56edbac6}{user\+\_\+status}}), et que le temps d\textquotesingle{}intéraction dépasse le seuil de contact (\mbox{\hyperlink{_c_t_s_p_i_f_f_s_8h_a2e5f1885229558ed3301244352309fb7}{monitoring\+\_\+time}}) l\textquotesingle{}autre est notifié et devient un cas contact. 



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{_c_t_monitoring_8h_afdd6d4678381b4e916a79d45e9a6703e}\label{_c_t_monitoring_8h_afdd6d4678381b4e916a79d45e9a6703e}} 
\index{CTMonitoring.h@{CTMonitoring.h}!become\_contact\_if\_device\_is\_sick@{become\_contact\_if\_device\_is\_sick}}
\index{become\_contact\_if\_device\_is\_sick@{become\_contact\_if\_device\_is\_sick}!CTMonitoring.h@{CTMonitoring.h}}
\doxysubsubsection{\texorpdfstring{become\_contact\_if\_device\_is\_sick()}{become\_contact\_if\_device\_is\_sick()}}
{\footnotesize\ttfamily void become\+\_\+contact\+\_\+if\+\_\+device\+\_\+is\+\_\+sick (\begin{DoxyParamCaption}\item[{Json\+Document \&}]{monitoring\+Document,  }\item[{File \&}]{monitoring\+File,  }\item[{const char $\ast$}]{other\+Device\+Address }\end{DoxyParamCaption})}



Vérifie si l\textquotesingle{}appareil est marqué comme malade dans le fichier de monitoring et met à jour le status de l\textquotesingle{}utilisateur si c\textquotesingle{}est le cas. 


\begin{DoxyParams}{Parameters}
{\em monitoring\+Document} & \\
\hline
{\em monitoring\+File} & \\
\hline
{\em other\+Device\+Address} & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{_c_t_monitoring_8h_a9c0620d07f42f8309e4fd488ec9b5349}\label{_c_t_monitoring_8h_a9c0620d07f42f8309e4fd488ec9b5349}} 
\index{CTMonitoring.h@{CTMonitoring.h}!device\_interact@{device\_interact}}
\index{device\_interact@{device\_interact}!CTMonitoring.h@{CTMonitoring.h}}
\doxysubsubsection{\texorpdfstring{device\_interact()}{device\_interact()}}
{\footnotesize\ttfamily void device\+\_\+interact (\begin{DoxyParamCaption}\item[{const char $\ast$}]{address,  }\item[{const char $\ast$}]{name,  }\item[{long}]{last\+\_\+contact }\end{DoxyParamCaption})}



Effectue une \char`\"{}interaction\char`\"{} avec un appareil, c\textquotesingle{}est à dire met à jour son nom, son temps d\textquotesingle{}exposition et son statut dans le fichier de surveillance~\newline
Si le temps d\textquotesingle{}exposition est supérieur au seuil de surveillance, l\textquotesingle{}appareil est marqué pour surveillance rapprochée. 


\begin{DoxyParams}{Parameters}
{\em address} & L\textquotesingle{}adresse Bluetooth de l\textquotesingle{}appareil à mettre à jour \\
\hline
{\em name} & Le nom de l\textquotesingle{}appareil à mettre à jour (uniquement visuel) \\
\hline
{\em last\+\_\+contact} & Le temps de la dernière interaction avec l\textquotesingle{}appareil \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{_c_t_monitoring_8h_a8f573b385e7f440e6119242b60955024}\label{_c_t_monitoring_8h_a8f573b385e7f440e6119242b60955024}} 
\index{CTMonitoring.h@{CTMonitoring.h}!update\_device\_status@{update\_device\_status}}
\index{update\_device\_status@{update\_device\_status}!CTMonitoring.h@{CTMonitoring.h}}
\doxysubsubsection{\texorpdfstring{update\_device\_status()}{update\_device\_status()}}
{\footnotesize\ttfamily void update\+\_\+device\+\_\+status (\begin{DoxyParamCaption}\item[{const char $\ast$}]{address,  }\item[{const char $\ast$}]{status }\end{DoxyParamCaption})}



Met à jour le status d\textquotesingle{}un appareil dans le fichier de monitoring. 


\begin{DoxyParams}{Parameters}
{\em address} & L\textquotesingle{}adresse Bluetooth de l\textquotesingle{}appareil à mettre à jour \\
\hline
{\em status} & Le nouveau status de l\textquotesingle{}appareil (Sain, Cas contact, Malade) \\
\hline
\end{DoxyParams}
