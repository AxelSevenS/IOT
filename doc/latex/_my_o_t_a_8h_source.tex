\hypertarget{_my_o_t_a_8h_source}{}\doxysection{C\+:/\+Users/spagh/\+One\+Drive/\+Bureau/\+Io\+T-\/\+B2-\/1/\+My\+OTA.h}
\mbox{\hyperlink{_my_o_t_a_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ }
\DoxyCodeLine{00084\ \textcolor{preprocessor}{\#include\ <ArduinoOTA.h>}}
\DoxyCodeLine{00085\ \textcolor{preprocessor}{\#include\ <RemoteDebug.h>}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{preprocessor}{\#define\ OTA\_HOSTNAME\ \ "{}ESP32"{}}}
\DoxyCodeLine{00088\ \textcolor{preprocessor}{\#define\ OTA\_PASSWORD\ \ "{}MonMotDePasse"{}}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ RemoteDebug\ \mbox{\hyperlink{_my_o_t_a_8h_a5ae2f374710d648c2027c78237f5df01}{Debug}};}
\DoxyCodeLine{00091\ Ticker\ \mbox{\hyperlink{_my_o_t_a_8h_a475fa6938b6b6c13e63f71bd7ee2e7ef}{debugTicker}};}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00096\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_my_o_t_a_8h_a3f6277ecef8250af87b69a095f0b496f}{generateDebugLog}}()\{}
\DoxyCodeLine{00097\ \ \ rdebugVln(\textcolor{stringliteral}{"{}-\/Remote\ DEBUG\ :\ Message\ VERBOSE"{}});}
\DoxyCodeLine{00098\ \ \ rdebugDln(\textcolor{stringliteral}{"{}-\/Remote\ DEBUG\ :\ Message\ DEBUG"{}});}
\DoxyCodeLine{00099\ \ \ rdebugIln(\textcolor{stringliteral}{"{}-\/Remote\ DEBUG\ :\ Message\ INFO"{}});}
\DoxyCodeLine{00100\ \ \ rdebugWln(\textcolor{stringliteral}{"{}-\/Remote\ DEBUG\ :\ Message\ WARNING"{}});}
\DoxyCodeLine{00101\ \ \ rdebugEln(\textcolor{stringliteral}{"{}-\/Remote\ DEBUG\ :\ Message\ ERROR"{}});}
\DoxyCodeLine{00102\ \}}
\DoxyCodeLine{00103\ }
\DoxyCodeLine{00107\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_my_o_t_a_8h_a4f09d92897fdf84125059cf3bb5a55d5}{setupOTA}}()\{}
\DoxyCodeLine{00108\ \ \ \textcolor{comment}{//\ On\ a\ besoin\ d'une\ connexion\ WiFi\ !}}
\DoxyCodeLine{00109\ \ \ \textcolor{keywordflow}{if}\ (WiFi.status()\ !=\ WL\_CONNECTED)\{\mbox{\hyperlink{_my_wi_fi_8h_ad2a97dbe5f144cd247e3b15c6af7c767}{setupWiFi}}();\}\ \ \textcolor{comment}{//\ Connexion\ WiFi}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \textcolor{comment}{//\ Démarrage\ d'OTA}}
\DoxyCodeLine{00112\ \ \ \mbox{\hyperlink{_my_debug_8h_ad1163597277388424d1b42c909a1be64}{MYDEBUG\_PRINTLN}}(\textcolor{stringliteral}{"{}-\/OTA\ :\ Démarrage"{}});}
\DoxyCodeLine{00113\ \ \ ArduinoOTA.setHostname(\mbox{\hyperlink{_my_o_t_a_8h_abe49f9ddb5fc0a7b9c7efb64e78d8f5d}{OTA\_HOSTNAME}});\ \textcolor{comment}{//\ Nommage\ pour\ l'identification}}
\DoxyCodeLine{00114\ \ \ ArduinoOTA.setPassword(\mbox{\hyperlink{_my_o_t_a_8h_a3ca40111f9b7517429f225cdf9bdb394}{OTA\_PASSWORD}});\ \textcolor{comment}{//\ Mot\ de\ passe\ pour\ les\ téléversements}}
\DoxyCodeLine{00115\ \ \ ArduinoOTA.begin();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Initialisation\ de\ l'OTA}}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \textcolor{comment}{//\ Initialisation\ de\ la\ librairie\ RemoteDebug}}
\DoxyCodeLine{00118\ \ \ \mbox{\hyperlink{_my_o_t_a_8h_a5ae2f374710d648c2027c78237f5df01}{Debug}}.begin(\mbox{\hyperlink{_my_o_t_a_8h_abe49f9ddb5fc0a7b9c7efb64e78d8f5d}{OTA\_HOSTNAME}});\ }
\DoxyCodeLine{00119\ \ \ \mbox{\hyperlink{_my_o_t_a_8h_a5ae2f374710d648c2027c78237f5df01}{Debug}}.setPassword(\mbox{\hyperlink{_my_o_t_a_8h_a3ca40111f9b7517429f225cdf9bdb394}{OTA\_PASSWORD}});\ \ \ \ \ \ \textcolor{comment}{//\ Mot\ de\ passe\ pour\ les\ connexions\ telnet\ et\ Web\ app}}
\DoxyCodeLine{00120\ \ \ \mbox{\hyperlink{_my_o_t_a_8h_a5ae2f374710d648c2027c78237f5df01}{Debug}}.setResetCmdEnabled(\textcolor{keyword}{true});\ \ \ \ \ \ \ \textcolor{comment}{//\ Pour\ permettre\ le\ Reset\ par\ telnet}}
\DoxyCodeLine{00121\ \ \ \mbox{\hyperlink{_my_o_t_a_8h_a5ae2f374710d648c2027c78237f5df01}{Debug}}.showColors(\textcolor{keyword}{true});\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Un\ peu\ de\ couleurs\ pour\ faire\ joli}}
\DoxyCodeLine{00122\ \ \ \textcolor{comment}{//Debug.setSerialEnabled(true);\ \ \ \ \ \ \ //\ Pour\ activer\ un\ écho\ des\ logs\ sur\ le\ port\ série\ (si\ branché)}}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \textcolor{comment}{//\ Ticker\ pour\ générer\ des\ logs}}
\DoxyCodeLine{00125\ \ \ \mbox{\hyperlink{_my_o_t_a_8h_a475fa6938b6b6c13e63f71bd7ee2e7ef}{debugTicker}}.attach(2,\ \mbox{\hyperlink{_my_o_t_a_8h_a3f6277ecef8250af87b69a095f0b496f}{generateDebugLog}});}
\DoxyCodeLine{00126\ \}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00132\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{_my_o_t_a_8h_a0a7b89215a7124910c33d8335bbc3105}{loopOTA}}()\{}
\DoxyCodeLine{00133\ \ \ ArduinoOTA.handle();\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Gestion\ des\ demandes\ de\ téléversement}}
\DoxyCodeLine{00134\ \ \ \mbox{\hyperlink{_my_o_t_a_8h_a5ae2f374710d648c2027c78237f5df01}{Debug}}.handle();\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Gestion\ des\ messages\ de\ remote\ debug}}
\DoxyCodeLine{00135\ \}}

\end{DoxyCode}
